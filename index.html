<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æé€Ÿè·‘é…· Ultra | Infinite Parkour Runner</title>
    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Noto+Sans+SC:wght@400;500;700&display=swap" rel="stylesheet">
</head>
<body>
    <div id="app">
        <!-- Game Canvas -->
        <canvas id="gameCanvas" width="1920" height="1080"></canvas>
        
        <!-- Particle Canvas -->
        <canvas id="particleCanvas" width="1920" height="1080"></canvas>
        
        <!-- HUD -->
        <div id="hud" class="hud">
            <div class="hud-left">
                <div class="stat-group">
                    <span class="label">åˆ†æ•°</span>
                    <span id="score" class="value">0</span>
                </div>
                <div class="stat-group">
                    <span class="label">è·ç¦»</span>
                    <span id="distance" class="value">0m</span>
                </div>
            </div>
            
            <div class="hud-center">
                <div class="power-indicators">
                    <div id="shield-indicator" class="power-indicator">ğŸ›¡ï¸</div>
                    <div id="magnet-indicator" class="power-indicator">ğŸ§²</div>
                    <div id="boost-indicator" class="power-indicator">âš¡</div>
                </div>
            </div>
            
            <div class="hud-right">
                <div class="stat-group">
                    <span class="label">ç”Ÿå‘½</span>
                    <div id="lives" class="lives">
                        <span class="heart">â¤ï¸</span>
                        <span class="heart">â¤ï¸</span>
                        <span class="heart">â¤ï¸</span>
                    </div>
                </div>
                <div class="stat-group">
                    <span class="label">å€æ•°</span>
                    <span id="multiplier" class="value multiplier">x1</span>
                </div>
            </div>
        </div>
        
        <!-- Speed Indicator -->
        <div id="speedometer" class="speedometer">
            <div class="speed-label">é€Ÿåº¦</div>
            <div id="speed-value" class="speed-value">1.0x</div>
            <div class="speed-bar">
                <div id="speed-fill" class="speed-fill"></div>
            </div>
        </div>
        
        <!-- Main Menu -->
        <div id="mainMenu" class="panel active">
            <div class="menu-bg"></div>
            <div class="menu-content">
                <h1 class="game-title">
                    <span class="title-main">æé€Ÿè·‘é…·</span>
                    <span class="title-sub">ULTRA</span>
                </h1>
                <p class="game-desc">æ— é™æ»šå± Â· éšœç¢èº²é¿ Â· é“å…·æ”¶é›† Â· ç”Ÿå­˜æŒ‘æˆ˜</p>
                
                <div class="menu-stats">
                    <div class="stat-item">
                        <span class="stat-label">æœ€é«˜åˆ†</span>
                        <span id="menu-best" class="stat-value">0</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-label">æœ€è¿œè·ç¦»</span>
                        <span id="menu-distance" class="stat-value">0m</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-label">ğŸ’° é‡‘å¸</span>
                        <span id="menu-currency" class="stat-value">0</span>
                    </div>
                </div>
                
                <!-- æ¯æ—¥æŒ‘æˆ˜æ˜¾ç¤º -->
                <div class="daily-challenge">
                    <h3>ğŸ“… æ¯æ—¥æŒ‘æˆ˜</h3>
                    <div id="daily-challenge-desc" class="challenge-desc">åŠ è½½ä¸­...</div>
                    <div class="challenge-progress">
                        <div id="daily-progress-bar" class="progress-bar">
                            <div id="daily-progress-fill" class="progress-fill"></div>
                        </div>
                        <span id="daily-progress-text" class="progress-text">0/0</span>
                    </div>
                </div>
                
                <div class="controls-info">
                    <div class="control-group">
                        <h3>é”®ç›˜æ§åˆ¶</h3>
                        <div class="control-item">ç©ºæ ¼/â†‘/W - è·³è·ƒï¼ˆå¯äºŒæ®µè·³ï¼‰</div>
                        <div class="control-item">â†“/S - æ»‘é“²</div>
                        <div class="control-item">P - æš‚åœæ¸¸æˆ</div>
                    </div>
                    <div class="control-group">
                        <h3>è§¦å±æ§åˆ¶</h3>
                        <div class="control-item">ç‚¹å‡»ä¸ŠåŠå± - è·³è·ƒ</div>
                        <div class="control-item">ç‚¹å‡»ä¸‹åŠå± - æ»‘é“²</div>
                    </div>
                </div>
                
                <div class="menu-buttons">
                    <button id="startBtn" class="btn btn-primary">
                        <span class="btn-text">ğŸ® å¼€å§‹æ¸¸æˆ</span>
                        <span class="btn-glow"></span>
                    </button>
                    <button id="shopBtn" class="btn btn-secondary">
                        <span class="btn-text">ğŸ›’ å•†åº—</span>
                        <span class="btn-glow"></span>
                    </button>
                    <button id="achievementsBtn" class="btn btn-ghost">
                        <span class="btn-text">ğŸ† æˆå°±</span>
                        <span class="btn-glow"></span>
                    </button>
                </div>
                
                <div class="power-tips">
                    <div class="tip-item">ğŸ›¡ï¸ æŠ¤ç›¾ - å…ç–«ä¸€æ¬¡ç¢°æ’</div>
                    <div class="tip-item">ğŸ§² ç£é“ - è‡ªåŠ¨å¸å¼•é‡‘å¸</div>
                    <div class="tip-item">âš¡ åŠ é€Ÿ - æå‡ç§»åŠ¨é€Ÿåº¦</div>
                    <div class="tip-item">ğŸ’ å€æ•° - åŒå€å¾—åˆ†</div>
                </div>
            </div>
        </div>
        
        <!-- Pause Menu -->
        <div id="pauseMenu" class="panel">
            <div class="menu-content">
                <h2>æ¸¸æˆæš‚åœ</h2>
                <div class="pause-stats">
                    <div class="stat-item">
                        <span class="stat-label">å½“å‰åˆ†æ•°</span>
                        <span id="pause-score" class="stat-value">0</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-label">å½“å‰è·ç¦»</span>
                        <span id="pause-distance" class="stat-value">0m</span>
                    </div>
                </div>
                <div class="btn-group">
                    <button id="resumeBtn" class="btn btn-primary">ç»§ç»­æ¸¸æˆ</button>
                    <button id="restartBtn" class="btn btn-secondary">é‡æ–°å¼€å§‹</button>
                    <button id="menuBtn" class="btn btn-ghost">è¿”å›èœå•</button>
                </div>
            </div>
        </div>
        
        <!-- Game Over -->
        <div id="gameOverMenu" class="panel">
            <div class="menu-content">
                <h2 class="game-over-title">æ¸¸æˆç»“æŸ</h2>
                <div class="final-stats">
                    <div class="stat-item highlight">
                        <span class="stat-label">æœ€ç»ˆåˆ†æ•°</span>
                        <span id="final-score" class="stat-value">0</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-label">è·‘æ­¥è·ç¦»</span>
                        <span id="final-distance" class="stat-value">0m</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-label">æ”¶é›†é‡‘å¸</span>
                        <span id="final-coins" class="stat-value">0</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-label">æœ€é«˜çºªå½•</span>
                        <span id="final-best" class="stat-value">0</span>
                    </div>
                </div>
                <div id="new-record" class="new-record">ğŸ‰ æ–°çºªå½•ï¼</div>
                <div class="btn-group">
                    <button id="playAgainBtn" class="btn btn-primary">å†æ¥ä¸€å±€</button>
                    <button id="backToMenuBtn" class="btn btn-ghost">è¿”å›èœå•</button>
                </div>
            </div>
        </div>
        
        <!-- Touch Controls -->
        <div id="touchControls" class="touch-controls">
            <div class="touch-hint">ç‚¹å‡»ä¸ŠåŠå±è·³è·ƒï¼Œä¸‹åŠå±æ»‘é“²</div>
        </div>
        
        <!-- Shop Menu -->
        <div id="shopMenu" class="panel">
            <div class="menu-content">
                <h2>ğŸ›’ è§’è‰²å•†åº—</h2>
                <div class="currency-display">
                    <span class="currency-label">ğŸ’° é‡‘å¸:</span>
                    <span id="shop-currency" class="currency-value">0</span>
                </div>
                
                <div class="skins-grid" id="skinsGrid">
                    <!-- çš®è‚¤é¡¹ç›®å°†é€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆ -->
                </div>
                
                <div class="btn-group">
                    <button id="shopBackBtn" class="btn btn-ghost">è¿”å›èœå•</button>
                </div>
            </div>
        </div>
        
        <!-- Achievements Menu -->
        <div id="achievementsMenu" class="panel">
            <div class="menu-content">
                <h2>ğŸ† æˆå°±ç³»ç»Ÿ</h2>
                
                <div class="achievements-grid" id="achievementsGrid">
                    <!-- æˆå°±é¡¹ç›®å°†é€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆ -->
                </div>
                
                <div class="btn-group">
                    <button id="achievementsBackBtn" class="btn btn-ghost">è¿”å›èœå•</button>
                </div>
            </div>
        </div>
        
        <!-- Environment Indicator -->
        <div id="environmentIndicator" class="environment-indicator">
            <div class="env-name" id="currentEnvName">åŸå¸‚å¤œæ™¯</div>
            <div class="env-timer">
                <div class="timer-bar">
                    <div id="envTimerFill" class="timer-fill"></div>
                </div>
            </div>
        </div>
        
        <!-- Combo Display -->
        <div id="comboDisplay" class="combo-display">
            <div class="combo-text">è¿å‡»</div>
            <div id="comboCount" class="combo-count">0</div>
        </div>
        
        <!-- Loading Screen -->
        <div id="loadingScreen" class="loading-screen">
            <div class="loading-content">
                <div class="loading-spinner"></div>
                <div class="loading-text">åŠ è½½ä¸­...</div>
            </div>
        </div>
    </div>
    
    <script>
        console.log('å¼€å§‹åŠ è½½script.js');
        // ç¡®ä¿DOMå®Œå…¨åŠ è½½åå†åˆå§‹åŒ–æ¸¸æˆ
        document.addEventListener('DOMContentLoaded', function() {
            console.log('DOMå·²åŠ è½½ï¼Œæ£€æŸ¥Canvaså…ƒç´ ...');
            const gameCanvas = document.getElementById('gameCanvas');
            const particleCanvas = document.getElementById('particleCanvas');
            console.log('gameCanvas:', gameCanvas);
            console.log('particleCanvas:', particleCanvas);
            
            if (!gameCanvas || !particleCanvas) {
                console.error('Canvaså…ƒç´ æœªæ‰¾åˆ°ï¼');
                return;
            }
            
            // å¼ºåˆ¶è®¾ç½®Canvasæ ·å¼
            gameCanvas.style.display = 'block';
            gameCanvas.style.position = 'absolute';
            gameCanvas.style.top = '0';
            gameCanvas.style.left = '0';
            gameCanvas.style.zIndex = '1';
            gameCanvas.style.background = '#001122';
            
            console.log('Canvasæ ·å¼å·²è®¾ç½®ï¼Œå‡†å¤‡åˆå§‹åŒ–æ¸¸æˆ...');
        });
    </script>
    <script src="script.js"></script>
</body>
</html>
